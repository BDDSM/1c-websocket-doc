.. _sphinx-chapter:
   
.. meta::
    :description: WebSocket клиент и сервер для 1С. Внешний компонент (Документация)
    :keywords: 1С, WebSocket, rpc

.. meta::
    :http-equiv=Content-Type: text/html; charset=utf-8

=======================================
Инициализация и подключение внешнего компонента
=======================================

&НаСервере
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. index:: ПодключитьВнешнююКомпоненту
.. function:: ПодключитьВнешнююКомпоненту()

    Синоним: AttachAddIn()

    Подключает компоненты, выполненные по технологии Native API. 
    Компонент может храниться в информационной базе или макете конфигурации в виде двоичных данных или в ZIP-архиве.
    Для режимов запуска "Тонкий клиент" и "Веб-клиент", компонент должен быть предварительно установлен методом УстановитьВнешнююКомпоненту. 

Пример использования:

.. code-block:: bsl
   :linenos:

    ПутьКомпоненты = "ОбщийМакет.МакетКомпоненты";
		
    Если НЕ ПодключитьВнешнююКомпоненту(ПутьКомпоненты,"WebSocket", ТипВнешнейКомпоненты.Native) Тогда
        ВызватьИсключение "Ошибка подключения внешнего компонента";
    КонецЕсли;

        
&НаКлиенте
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. index:: УстановитьВнешнююКомпоненту
.. function:: УстановитьВнешнююКомпоненту()

    Синоним: InstallAddIn()
    
    Доставляет объект внешнего компонента с сервера на клиент, после чего он становится доступен для метода ПодключитьВнешнююКомпоненту().

    Примечание:

    Метод работает только с компонентами, хранящимися в архиве.
    Если для конфигурации свойство РежимИспользованияМодальности установлено в НеИспользовать, следует использовать метод НачатьУстановкуВнешнейКомпоненты. 

Пример использования:

.. code-block:: bsl
   :linenos:

    ПутьКомпоненты = "ОбщийМакет.МакетКомпоненты";
	
    УстановитьВнешнююКомпоненту(ПутьКомпоненты);

    Если НЕ ПодключитьВнешнююКомпоненту(ПутьКомпоненты,"WebSocket", ТипВнешнейКомпоненты.Native) Тогда
        ВызватьИсключение "Ошибка подключения внешнего компонента";
    КонецЕсли;
